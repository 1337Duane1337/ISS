{% extends "private_messages/pm_base.html" %}

{% block pm_content %}
  <table class="private-message-list">
    <thead>
      <tr>
        {% if show_from %}
          <th>From</th>
        {% endif %}
        {% if show_to %}
          <th>To</th>
        {% endif %}
        <th>Subject</th>
        <th>Sent</th>
      </tr>
    </thead>
    <tbody>
      {% for message in messages %}
        <tr>
          {% if show_from %}
          <td>
            <a href="{{ message.sender.get_url }}">
              {{ message.sender.username }}
            </a>
          </td>
          {% endif %}

          {% if show_to %}
          <td>
            <a href="{{ message.receiver.get_url }}">
              {{ message.receiver.username }}
            </a>
          </td>
          {% endif %}

          <td>
            {{ message.subject }}
          </td>

          <td>
            {{ message.created|date:"o-m-d" }} at
            {{ message.created|time:"f A e" }}
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="3">
            No messages.
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
